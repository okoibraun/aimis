<?php

// Check User Permissions
$module = "folder";
$permission = "manage";
$user_permissions = get_user_permissions($_SESSION['user_id']);

$check = "list" ?? "index" ?? "manage"; //This could also be a value coming from outside

$user_role = super_roles();
// Check if user has permission to manage folders
if(!in_array($_SESSION['user_role'], $user_role) && !in_array($page, $user_permissions)) {
    require_once("../../includes/head.phtml");
    echo "<div class='alert alert-danger'>You do not have permission to manage folders. <a href='javascript:history.back(1);'>Go Back</a></div>";
    require_once '../../includes/footer.phtml';
    exit;
}

if(in_array(($check == "list" || $check == "index"), $user_permissions)) {
    
}

// Check if user has permission to manage folders
if(!in_array($_SESSION['user_role'], $user_role) && !in_array($page, $user_permissions)) {
    $_SESSION['message'] = "You do not have permission to {$permission} {$module}.";
    require_once("../../includes/head.phtml");
    echo "<div class='alert alert-danger'>You do not have permission to manage folders. <a href='javascript:history.back(1);'>Go Back</a></div>";
    // require_once '../../includes/footer.phtml';
    exit;
}

// Note, this is worth making video (YouTube Shorts)
// This is how to create a variable if a condition is met
//($company = $conn->query("SELECT name FROM companies WHERE id='{$companyid}'")->fetch_assoc()) ? $company['name'] : "none";

// echo $conn->query("SELECT name FROM companies WHERE id='{$companyid}'")->fetch_assoc()['name'];

$conn->query("SELECT account_name FROM accounts WHERE id={$row['account_id']}")->fetch_assoc()['account_name'];